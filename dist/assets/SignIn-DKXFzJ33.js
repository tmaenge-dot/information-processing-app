import{j as e,aK as I,O as C,Q as k,B as i,a as n,a7 as A,a8 as g,aJ as m,ar as E,I as L,a2 as B,a3 as D,aI as T,k as W,l as q,aO as O}from"./mui-D7eZqLtn.js";import{d as F,r as l}from"./vendor-CXcpul7e.js";import{a as R}from"./index-DNyHeDK2.js";const K=()=>{const u=F(),{login:y}=R(),[t,b]=l.useState({email:"",password:""}),[d,j]=l.useState(!1),[a,o]=l.useState({}),[x,p]=l.useState(!1),h=s=>{const{name:r,value:P}=s.target;b(c=>({...c,[r]:P})),a[r]&&o(c=>({...c,[r]:""}))},f=()=>{const s={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(s.email="Please enter a valid email address"):s.email="Email is required",t.password?t.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",o(s),Object.keys(s).length===0},w=async s=>{if(s.preventDefault(),!!f()){p(!0);try{const r=await y(t.email,t.password);r.success?u("/"):o({submit:r.error||"Login failed. Please try again."})}catch{o({submit:"Login failed. Please try again."})}finally{p(!1)}}},v=()=>{j(!d)},S=()=>{u("/sign-up")};return e.jsx(I,{maxWidth:"sm",sx:{mt:4,mb:4},children:e.jsx(C,{elevation:3,children:e.jsxs(k,{sx:{p:4},children:[e.jsxs(i,{sx:{textAlign:"center",mb:4},children:[e.jsx(n,{variant:"h4",component:"h1",gutterBottom:!0,color:"primary",children:"Welcome Back"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Sign in to Information Processing & Typewriting Learning Platform"})]}),a.submit&&e.jsx(A,{severity:"error",sx:{mb:3},children:a.submit}),e.jsxs(i,{component:"form",onSubmit:w,children:[e.jsx(g,{fullWidth:!0,name:"email",label:"Email Address",type:"email",value:t.email,onChange:h,error:!!a.email,helperText:a.email,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx(E,{color:"action"})})}}),e.jsx(g,{fullWidth:!0,name:"password",label:"Password",type:d?"text":"password",value:t.password,onChange:h,error:!!a.password,helperText:a.password,margin:"normal",required:!0,InputProps:{startAdornment:e.jsx(m,{position:"start",children:e.jsx(T,{color:"action"})}),endAdornment:e.jsx(m,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:v,edge:"end",children:d?e.jsx(B,{}):e.jsx(D,{})})})}}),e.jsx(W,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:x,startIcon:e.jsx(q,{}),sx:{mt:3,mb:2,py:1.5},children:x?"Signing In...":"Sign In"}),e.jsx(i,{sx:{textAlign:"center",mt:3},children:e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",e.jsx(O,{component:"button",variant:"body2",onClick:S,sx:{textDecoration:"none",fontWeight:"medium"},children:"Create Account"})]})}),e.jsxs(i,{sx:{mt:4,p:2,bgcolor:"grey.50",borderRadius:1},children:[e.jsx(n,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:"ðŸ“š Demo Credentials (for testing):"}),e.jsx(n,{variant:"caption",color:"text.secondary",display:"block",children:"Email: student@example.com"}),e.jsx(n,{variant:"caption",color:"text.secondary",display:"block",children:"Password: password123"})]})]})]})})})};export{K as default};
